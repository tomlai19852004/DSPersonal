#!/usr/bin/python
import scrapy
import sys
import time
import codecs

from scrapy.selector import Selector
from w3lib.html import remove_tags

class MediumSpider(scrapy.Spider):
	name="medium.com"
	allowed_domains = ['medium.com']
	start_urls = ["https://medium.com/@sall/the-future-of-web-design-is-hidden-in-the-history-of-architecture-1cc93ea854d0?source=false---------1#e47a","https://medium.com/vantage/the-mesmerizing-architecture-of-mosques-385d1e5e14c0?source=false---------2#8c83","https://medium.com/google-developers/javascript-application-architecture-on-the-road-to-2015-d8125811101b?source=false---------3","https://medium.com/applying-architecture-to-product-design/applying-architecture-to-product-design-parti-68b0b7345db9?source=false---------4","https://medium.com/@davidlau/user-experience-design-vs-architecture-d5fce196a8e9?source=false---------5","https://medium.com/interactive-mind/this-is-an-in-progress-series-of-thoughts-489f9c670f5?source=false---------6","https://medium.com/@kenjuwagatsuma/mvp-architecture-in-android-development-3d63cc32707a?source=false---------7","https://medium.com/@karthikkeyan/ios-app-architecture-3f1d1400862f?source=false---------8","https://medium.com/@SOM/women-in-architecture-an-interview-with-laura-ettelman-d411740a2860?source=false---------9","https://medium.com/buildings-will-be-asmbld/future-of-architecture-robotic-reconfiguration-b52b6f2f556a?source=false---------10","https://medium.com/superform-blog/digital-marketing-in-architecture-8-takeaways-c3189f99788b?source=---#0346","https://medium.com/@SOM/engineering-architecture-20-models-reveal-how-skyscrapers-work-6b743cde35e7?source=---","https://medium.com/communicate-with-me/so-youre-thinking-of-studying-architecture-6c93a6f8304f?source=---","https://medium.com/startup-study-group/front-end-development-architecture-175ce2222075?source=---","https://medium.com/artist-interviews-t-t/alex-haw-on-extraordinary-design-latitudinal-cuisines-and-the-state-of-london-architecture-57defc700627?source=---","https://medium.com/technology-is-the-answer-but-what-was-the/urban-parasites-data-driven-urbanism-and-the-case-for-architecture-e773d4069d64?source=---","https://medium.com/technology-is-the-answer-but-what-was-the/architecture-and-interaction-design-via-adaptation-and-hackability-a51204564a1d?source=---","https://medium.com/age-of-awareness/on-approaching-design-education-the-landscape-architecture-edition-2bc43fec8b2f?source=---","https://medium.com/api-university/why-do-we-need-an-api-architecture-f50a6c3d6120?source=---","https://medium.com/@WRNSStudio/a-meme-is-born-the-rise-and-fall-of-the-architecture-lolcat-f71196fe2c24?source=---","https://medium.com/design-manifestos/design-manifestos-stuart-narofsky-of-narofsky-architecture-ways2design-ecb740ce833?source=---","https://medium.com/@tmccormick/roadside-architecture-contraptions-a-prefab-housing-tour-of-willits-ca-3b03e56f640a?source=---","https://medium.com/zeitguide-newsletters/the-rise-of-artisanal-architecture-fa112834edc9?source=---#9810","https://medium.com/design-manifestos/design-manifestos-james-leng-of-michael-maltzan-architecture-723873259a68?source=---","https://medium.com/after-us/an-atlas-of-fiducial-architecture-f2b5bb421ef8?source=---","https://medium.com/design-manifestos/design-manifestos-cristina-parre%C3%B1o-architecture-1d4458b8d1e4?source=---","https://medium.com/@robertyuen/architecture-startup-s-agency-67cba429680b?source=---","https://medium.com/design-manifestos/design-manifestos-aniket-shahane-of-office-of-architecture-1c71ea7be01d?source=---","https://medium.com/@wagihfyoussef/architecture-space-place-and-memory-b739b3aefe6e?source=---","https://medium.com/@matt_hammond/what-is-mobile-solution-architecture-part-1-what-are-we-building-856932622a48?source=---","https://medium.com/pit-crit/can-we-stop-wasting-architecture-96e60868851d?source=---","https://medium.com/rat-corp/architecture-in-gion-kyoto-da3b81d1d835?source=---","https://medium.com/@mzawiejski/compile-time-plugin-architecture-in-go-923455cd2297?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-ghana-b15cc98b4367?source=---","https://medium.com/@schweitzercomm/little-big-town-how-akron-s-unique-history-has-impacted-its-architecture-418c0726b46?source=---","https://medium.com/mentor-prot%C3%A9g%C3%A9/sounds-smells-and-textures-make-great-architecture-477f07a48b6c?source=---","https://medium.com/design-manifestos/design-manifestos-paul-lukez-of-paul-lukez-architecture-2f4f11b607e2?source=---","https://medium.com/design-manifestos/design-manifestos-phillip-anzalone-and-stephanie-bayard-of-atelier-architecture-64-3a93f4da882?source=---","https://medium.com/@thespacesmag/britain-s-only-desert-is-blooming-with-new-architecture-9e02f74741ef?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-tanzania-4f87a55059a3?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-detroit-michigan-6eb33157f98c?source=---","https://medium.com/@photohab/stunning-architecture-photography-by-peter-stewart-10a726cc4d51?source=---","https://medium.com/@Modelo/what-is-the-virtual-reality-of-architecture-8604c724f864?source=---","https://medium.com/@SheffSocScience/defensive-architecture-designing-the-homeless-out-of-cities-259610e53fb8?source=---","https://medium.com/@andrius_ropolas/forget-beautiful-architecture-ee96d491141?source=---","https://medium.com/mammon-machine-zeal/rain-house-eternity-presence-and-expression-in-game-architecture-86bae0c34e46?source=---","https://medium.com/@timleberecht/the-romance-of-architecture-a72d3cafced2?source=---","https://medium.com/communicate-with-me/how-to-choose-an-architecture-school-7730cebfb835?source=---","https://medium.com/@brooksteve/great-to-see-further-exploration-of-architecture-and-web-design-your-concept-is-solid-i-just-have-26752d99413d?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-morocco-9cdec5778fa6?source=---","https://medium.com/of-lists/publishing-architecture-94109b92b13c?source=---","https://medium.com/@photohab/creative-architecture-photography-by-alastair-philip-wiper-59553313d26f?source=---","https://medium.com/@arunaharsa/starting-with-microservices-465f4416a65c?source=---","https://medium.com/@advanirajesh/an-advice-to-fresh-architecture-graduates-fc6342ad71cb?source=---","https://medium.com/@dubinski/toxic-architecture-a2c8d34fd6b6?source=---","https://medium.com/esri-insider/selecting-the-right-computing-architecture-for-your-gis-546483f125f5?source=---","https://medium.com/@garyrudoren/architecture-by-the-numbers-85cb2942e3e9?source=---","https://medium.com/@vladi_yezhova/architecture-in-itself-df2d5db4de0d?source=---","https://medium.com/@tomoztoday/icons-award-winners-and-the-unusual-a-guide-to-the-architecture-of-east-london-5a97edd34f86?source=---","https://medium.com/@wagihfyoussef/architecture-and-eclecticism-e54174faf7f5?source=---","https://medium.com/design-manifestos/clark-thenhaus-of-endemic-architecture-6d2f5a829084?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-london-fa9d340fc618?source=---","https://medium.com/@DonnyStark/messaging-system-architecture-in-node-js-part-1-4b75a40dd462?source=---","https://medium.com/@clarevanmontfrans/the-responsibility-of-architecture-in-the-public-realm-21b51cc98ce0?source=---","https://medium.com/@wagihfyoussef/contemporary-architecture-in-collision-7cd4e4e8f6f0?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-liberia-3080e1fed694?source=---","https://medium.com/aada-architects/architecture-is-a-question-2d565bd67115?source=---","https://medium.com/@Modelo/3-valuable-connections-between-marketing-and-architecture-c468737bbc1a?source=---","https://medium.com/thoughts-of-a-draftsman/theory-of-common-architecture-2e43abd1f92d?source=---","https://medium.com/design-manifestos/lee-calisti-of-lee-calisti-architecture-design-5c239857aaf4?source=---","https://medium.com/@john99jacobs/it-is-time-for-minimalist-software-architectures-866ec0a5ff41?source=---","https://medium.com/@photohab/architecture-photography-by-rodrigo-d%C3%A1vila-9bb7ec80fdb?source=---","https://medium.com/@urbannext_net/urbannext-expanding-architecture-to-rethink-cities-44d8eaaaf2eb?source=---","https://medium.com/@marcellopisu/architecture-and-participatory-art-for-syrian-children-in-the-refugee-camp-c4c23e8c2343?source=---","https://medium.com/france/sites-web-d-%C3%A9coles-d-architecture-comm-en-chantier-65e715ca9d42?source=---","https://medium.com/scribbleton-era/what-ll-be-architecture-in-2016-3d01a5c4c0d?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-new-york-city-e4f181af56da?source=---","https://medium.com/@Murad/tech-architecture-and-human-centered-design-6631dce4e835?source=---","https://medium.com/@manasikothari/what-i-bring-to-ux-from-interior-architecture-f88bf1251adb?source=---","https://medium.com/@davidmousa/the-sound-of-architecture-part-1-f94bbeaabe84?source=---","https://medium.com/@heythaitea/always-awesome-learning-other-companies-architecture-thanks-for-sharing-8b7a20432db4?source=---","https://medium.com/the-spaces-mag/anarchic-architecture-32644cf4ec57?source=---","https://medium.com/@photohab/peter-steinhauer-photographed-colorful-cocoons-architecture-in-hong-kong-91ac1d923025?source=---","https://medium.com/@eiindia/learning-history-by-creating-architecture-902f7b5201e?source=---","https://medium.com/@photohab/architecture-photography-by-edmund-sumner-97a549b670dd?source=---","https://medium.com/@Modelo/boston-s-best-undergraduate-architecture-programs-176444825129?source=---","https://medium.com/@Drew_Wiberg/prairie-school-architecture-and-6bdc1aa501d6?source=---","https://medium.com/@photohab/stunning-abstract-architecture-photography-by-paul-brouns-c1837b4cde37?source=---","https://medium.com/@Drew_Wiberg/the-national-library-of-argentina-a-premium-example-of-brutalist-architecture-3814ca12892e?source=---","https://medium.com/design-manifestos/design-manifestos-mark-lepage-of-fivecat-studio-architecture-9e219beefaf3?source=---","https://medium.com/the-spaces-mag/vampire-weekend-bassist-chris-baio-on-architecture-135c16724c4e?source=---","https://medium.com/@stv/access-to-reading-architecture-informs-literacy-904294475065?source=---","https://medium.com/@yessicaklein/constructing-worlds-photography-and-architecture-in-the-modern-age-a775ecb8dbd1?source=---","https://medium.com/@parsto/a-story-of-danish-architecture-56acb56a7dea?source=---","https://medium.com/@bricks/why-we-architecture-should-be-collaborative-34926ab8c58d?source=---","https://medium.com/@adamkchew/front-end-development-architecture-5433c6814917?source=---","https://medium.com/the-spaces-mag/soviet-sanatoriums-a-kickstarter-mission-to-photograph-the-ussr-s-architecture-of-leisure-d2bd7f8e37f1?source=---","https://medium.com/@parsto/more-cool-architecture-7a2140a858c4?source=---","https://medium.com/@JasonSuchite/newport-architecture-22bd560b477f?source=---","https://medium.com/@photohab/architecture-photography-by-daniel-everett-51b930457303?source=---","https://medium.com/@jgmoore/architecture-s-two-percent-black-in-design-conference-at-harvard-tackles-complex-social-and-27e343433c63?source=---","https://medium.com/@photohab/architecture-photography-by-chang-kyun-kim-aadf5d4fe433?source=---","https://medium.com/design-culture-history/the-relationship-between-japanese-and-modernist-architecture-7faef7e3b1ab?source=---","https://medium.com/@Soumia.../architecture-hand-poetery-32f08a1278a4?source=---","https://medium.com/the-spaces-mag/stefan-k%C3%BCrten-gives-modernist-architecture-a-colourful-new-spin-14eadb1c1458?source=---","https://medium.com/@bartas/schwarzplan-architecture-tutorial-1252e33f6ed9?source=---","https://medium.com/@davidturnbull_73060/architecture-as-social-media-66dddc03da38?source=---","https://medium.com/@shanecarrigan/a-framework-for-understanding-and-reinventing-the-architecture-of-culture-c0852aa1e93c?source=---","https://medium.com/@photohab/architecture-photography-by-agnese-sanvito-f3e74a7213e?source=---","https://medium.com/millennial-division/responsive-architecture-in-the-home-f48830f9762e?source=---","https://medium.com/design-manifestos/design-manifestos-marco-vanucci-of-opensystems-architecture-a506057d9f37?source=---","https://medium.com/@photohab/monochrome-architecture-photography-by-philipp-siempelkamp-7eb12689c3e2?source=---","https://medium.com/@photohab/stunning-architecture-photography-by-andrew-prokos-4000d3f8c05e?source=---","https://medium.com/@miimdesigns/architecture-for-humanity-new-chapter-3ff3d37d8ebe?source=---","https://medium.com/@photohab/architecture-photography-by-brad-feinknopf-30a292aae78b?source=---","https://medium.com/@inemylostyvyi/vmware-virtual-san-reference-architecture-for-large-deployments-75ea94aef122?source=---","https://medium.com/@aleksisoreschnikoff/designing-change-the-rise-of-humanitarian-architecture-8cff3b25d123?source=---","https://medium.com/ecohybrid-habitat-in-europe/demeuria-is-architecture-in-motion-10efa1bee95c?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-algeria-5968921bb6d9?source=---","https://medium.com/@adrjohnston/talking-css-architecture-26c91ee33ac3?source=---","https://medium.com/@wunderkind49/maison-folie-nox-architecture-14af343f5cda?source=---","https://medium.com/@garGoel/architecture-is-frozen-music-2d929c7e0f70?source=---","https://medium.com/@stephen_burke/outtakes-the-architecture-of-fascism-575eb390637d?source=---","https://medium.com/philosophy-logic/architecture-tuesday-134-peter-street-toronto-canada-2876f223313f?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-new-york-a98da82ddacf?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-south-africa-bcaa35c15a8a?source=---","https://blog.huzzpa.com/the-chutzpah-of-architecture-in-workplaces-e727a7586613?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-nigeria-81bdb70242d?source=---","https://medium.com/@SujayThomas/dear-architecture-here-is-a-motherhood-statement-for-thee-30683e832d25?source=---","https://medium.com/architecture-around-the-world/architecture-spotlight-indonesia-17044c3608e7?source=---","https://medium.com/@timhooper/architecture-704aa45bc219?source=---","https://medium.com/@wagihfyoussef/architecture-aesthetics-inquiry-40290ece1ce6?source=---","https://medium.com/esri-insider/selecting-the-right-computing-architecture-for-your-gis-b6b33d410ade?source=---","https://medium.com/@AmeliaWhite/what-do-you-mean-by-architecture-3d0c5a907463?source=---","https://medium.com/@rjmahesh/my-backgrounds-architecture-computer-science-and-music-production-e6a6f3275acd?source=---","https://medium.com/@interactivearchitecture/soft-bodies-research-at-the-interactive-architecture-lab-50e33489ee15?source=---","https://medium.com/@photohab/architecture-photography-by-ben-rea-9df8789e62fd?source=---","https://medium.com/@Ahmed_Sharkasy/building-an-architecture-that-scales-part-i-2e695b6d4b61?source=---","https://medium.com/of-lists/fifty-five-architecture-firms-i-like-to-follow-but-do-not-15c4620ba69f#.mfkhugd21", "https://medium.com/@taherehsariban/architecture-not-architects-27e866857c3a#.c8x9nxsqn", "https://medium.com/pit-crit/why-we-created-another-student-architecture-work-website-c85790cca76e#.y2qwas6me", "https://medium.com/evolving-architect/architecture-through-the-eyes-of-children-9886036d1f7b#.kcnzl0p2t", "https://medium.com/architecture-around-the-world/architecture-spotlight-ethiopia-1bcb1f1fb8d5#.1qox8ctl9", "https://medium.com/@Dog_Marriage/contemporary-architecture-in-a-collegiate-sphere-94f47f897bb8#.f20szdj9y", "https://medium.com/@MagnifyCreative/is-your-architecture-practice-website-bringing-in-potential-clients-356a4663f35d#.kxqzzchcx", "https://medium.com/@38hours/unexpected-monumental-architecture-f7fd08621291#.lgj7t23eq", "https://medium.com/@KerryKarl/the-emotion-in-architecture-3c86a1bfa878#.b0xi0e4h3", "https://medium.com/evolving-architect/the-start-of-a-journey-just-another-architecture-blog-29f48699ad34#.dzxlnhufp", "https://medium.com/@interactivearchitecture/sound-and-soft-architecture-cebf0f91c68e#.5vn9l8415", "https://medium.com/@RichardSa/architecture-for-the-picturesque-b483224799d5#.kgxn4u8z1", "https://medium.com/@Spurrya/the-10-things-i-learned-in-10-weeks-9190cb8a8c25#.x6a06p5i6", "https://medium.com/architecture-around-the-world/architecture-spotlight-guinea-bissau-913015cdf115#.13ee7phn9", "https://blog.huzzpa.com/architecture-the-movies-1114622a1746#.z2eu4zzcp", "https://medium.com/@Sophie_Hamer/choosing-an-architecture-school-is-all-about-you-bdba58564130#.o91o0te3t", "https://medium.com/@cmevans/to-break-free-of-time-through-architecture-we-arrive-and-depart-unexpectedly-a5f49fc25a0#.vx0kvicw1"]
	
	def parse(self, response):
		ts = time.time()
		html_name = 'txt/architecture/architecture' + str(ts) + '.txt'
		file = codecs.open(html_name, 'w+', 'utf-8')
		
		# file.write(response.url)
		# file.write('\n')

		for body in response.css('div.layoutSingleColumn h3').extract():
			body = body.encode(response.encoding)
			body = remove_tags(body)
			print "Header"
			print(body)
			try:
				file.write(body)
			except AttributeError:
				print(AttributeError)
				sys.exit(0)

		for body in response.css('div.layoutSingleColumn p').extract():
			body = body.encode(response.encoding)
			body = remove_tags(body)
			print "Paragraph"
			print(body)
			try:
				file.write(body)
			except AttributeError:
				print(AttributeError)
				sys.exit(0)

		file.close()